<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="jakarta.faces.html" xmlns:ui="jakarta.faces.facelets"
    xmlns:f="jakarta.faces.core">

<ui:composition template="/WEB-INF/templates/template.xhtml">
    <f:metadata>
        <f:viewParam name="carId" value="#{carDetailView.carId}" converter="uuidConverter" />
        <f:viewAction action="#{carDetailView.init}" />
    </f:metadata>

    <ui:define name="title">#{msg['car_detail.title']}</ui:define>
    <ui:define name="content">
        <h:link outcome="/model/model_list" value="#{msg['action.back']}" styleClass="btn" />

        <h:panelGroup rendered="#{empty carDetailView.car}">
            <p>#{msg['car_detail.not_found']}</p>
        </h:panelGroup>

        <h:panelGroup rendered="#{not empty carDetailView.car}">
            <h2>#{msg['car_detail.title']}</h2>
            <p><strong>#{msg['car_detail.license_plate']}</strong> #{carDetailView.car.licensePlate}</p>
            <p><strong>#{msg['car_detail.mileage']}</strong> #{carDetailView.car.mileage} km</p>
            <p><strong>#{msg['car_detail.purchase_date']}</strong> #{carDetailView.car.purchaseDate}</p>
            <p><strong>#{msg['car_detail.id']}</strong> #{carDetailView.car.id}</p>

            <h3>#{msg['car_detail.model_info']}</h3>
            <h:panelGroup rendered="#{not empty carDetailView.car.model}">
                <p><strong>#{msg['model_detail.brand']}</strong> #{carDetailView.car.model.brand}</p>
                <p><strong>#{msg['model_detail.model']}</strong> #{carDetailView.car.model.name}</p>
                <p><strong>#{msg['model_detail.hp']}</strong> #{carDetailView.car.model.hp}</p>
                <h:link outcome="/model/model_detail" value="#{msg['car_detail.view_model']}" styleClass="btn">
                    <f:param name="modelId" value="#{carDetailView.car.model.id}" />
                </h:link>
            </h:panelGroup>
            <h:panelGroup rendered="#{empty carDetailView.car.model}">
                <p>#{msg['car_detail.no_model']}</p>
            </h:panelGroup>

            <h3>#{msg['car_detail.owner_info']}</h3>
            <h:panelGroup rendered="#{not empty carDetailView.car.owner}">
                <p><strong>#{msg['car_detail.owner_login']}</strong> #{carDetailView.car.owner.login}</p>
                <p><strong>#{msg['car_detail.owner_age']}</strong> #{carDetailView.car.owner.age}</p>
                <p><strong>#{msg['car_detail.owner_license_date']}</strong>
                    #{carDetailView.car.owner.driverLicenseIssueDate}</p>
            </h:panelGroup>
            <h:panelGroup rendered="#{empty carDetailView.car.owner}">
                <p>#{msg['car_detail.no_owner_assigned']}</p>
            </h:panelGroup>
        </h:panelGroup>
    </ui:define>
</ui:composition>

</html>